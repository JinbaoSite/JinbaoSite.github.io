<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="趣头条广告算法工程师">
<meta property="og:type" content="website">
<meta property="og:title" content="JinbaoSite">
<meta property="og:url" content="www.dongjinbao.com/page/2/index.html">
<meta property="og:site_name" content="JinbaoSite">
<meta property="og:description" content="趣头条广告算法工程师">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JinbaoSite">
<meta name="twitter:description" content="趣头条广告算法工程师">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="www.dongjinbao.com/page/2/">





  <title>JinbaoSite</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">JinbaoSite</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">每天努力一点点！</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.dongjinbao.com/大数据/CentOS安装Hadoop.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JinbaoSite">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JinbaoSite">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/大数据/CentOS安装Hadoop.html" itemprop="url">CentOS安装Hadoop</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-12-03T12:43:33+08:00">
                2017-12-03
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/大数据/" itemprop="url" rel="index">
                    <span itemprop="name">大数据</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-创建hadoop用户"><a href="#1-创建hadoop用户" class="headerlink" title="1 创建hadoop用户"></a>1 创建hadoop用户</h2><p>首先以root用户登录远程服务器，执行下面命令创建新用户hadoop，并修改hadoop用户的密码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd -m hadoop -s /bin/bash</span><br><span class="line">passwd hadoop</span><br></pre></td></tr></table></figure>

<p><img src="http://p06qbh638.bkt.clouddn.com/%E5%88%9B%E5%BB%BAhadoop.png" alt><br>为了避免出现权限问题，我们为hadoop用户增加管理员权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">visudo</span><br></pre></td></tr></table></figure>

<p>找到第98行，就是<code>root ALL=(ALL) ALL</code>这行，可以先按<code>ESC</code>键，然后输入<code>:98</code>，可以直接跳到第98行<br>我们在这行下面增加一行内容，中间的间隔为Tab</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hadoop	ALL=(ALL) ALL</span><br></pre></td></tr></table></figure>

<p>先按下<code>i</code>，进入编辑模式后，加入上面一行内容，编辑完成后，先按<code>ESC</code>键，输入<code>:wq</code>，按回车键保存退出<br><img src="http://p06qbh638.bkt.clouddn.com/zengjiaquanxian.png" alt></p>
<h2 id="2-安装和配置SSH无密码登录"><a href="#2-安装和配置SSH无密码登录" class="headerlink" title="2 安装和配置SSH无密码登录"></a>2 安装和配置SSH无密码登录</h2><p>新开一个窗口，以hadoop用户登录进来，然后执行下列命令检查CentOS是否已安装了SSH client、SSH server</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep ssh</span><br></pre></td></tr></table></figure>

<p>如果返回的结果包含了SSH client和SSH server，那么无需安装，如下图<br><img src="http://p06qbh638.bkt.clouddn.com/%E6%A3%80%E6%9F%A5%E5%AE%89%E8%A3%85.png" alt><br>若需要安装，可执行下面命令安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo yum install openssh-clients</span><br><span class="line">sudo yum install openssh-server</span><br></pre></td></tr></table></figure>

<p>接下来，我们测试一下SSH是否可用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh localhost</span><br></pre></td></tr></table></figure>

<p>首次登录SSH需要输入yes，然后按照提示输入hadoop密码<br><img src="http://p06qbh638.bkt.clouddn.com/sshcheck.png" alt><br>为了减少每次登陆SSH输入密码，我们配置SSH为无密码登录<br>先退出SSH，执行<code>exit</code>命令<br><img src="http://p06qbh638.bkt.clouddn.com/exit.png" alt><br>进入<code>.ssh</code>目录下，然后利用ssh-keygen生成密钥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /home/hadoop/.ssh/</span><br><span class="line">ssh-keygen -t rsa</span><br></pre></td></tr></table></figure>

<p>遇到所有的提示，全部按回车键<br><img src="http://p06qbh638.bkt.clouddn.com/sshkeygen.png" alt><br>最后将密钥加入到授权中去，并修改文件权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line">chmod 600 ./authorized_keys</span><br></pre></td></tr></table></figure>

<p><img src="http://p06qbh638.bkt.clouddn.com/catchmod.png" alt><br>在试一下登录ssh命令<code>ssh localhost</code>命令，就可以无需密码直接登陆<br><img src="http://p06qbh638.bkt.clouddn.com/localhostssh.png" alt></p>
<h2 id="3-安装Java环境"><a href="#3-安装Java环境" class="headerlink" title="3 安装Java环境"></a>3 安装Java环境</h2><p>先使用xftp将<a href="http://download.oracle.com/otn-pub/java/jdk/8u151-b12/e758a0de34e24606bca991d704f6dcbf/jdk-8u151-linux-x64.tar.gz?AuthParam=1512228017_7899e64b7f2c6b96948ff371d9427160" target="_blank" rel="noopener">jdk-8u151-linux-x64.tar.gz</a>文件放入<code>/home/hadoop</code>目录下<br>通过xshell在<code>/home/hadoop</code>目录下新建java文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo mkdir /home/hadoop/java</span><br></pre></td></tr></table></figure>

<p>然后将压缩包拷贝到java文件夹下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo cp jdk-8u151-linux-x64.tar.gz /home/hadoop/java</span><br></pre></td></tr></table></figure>

<p>进入<code>/home/hadoop/java</code>目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /home/hadoop/java</span><br></pre></td></tr></table></figure>

<p>然后解压<code>jdk-8u151-linux-x64.tar.gz</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar zxvf jdk-8u151-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>

<p>接下来设置jdk环境变量，这里采用全局设置方法，修改<code>~/.bashrc</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>添加下面内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">JAVA_HOME=/home/hadoop/java/jdk1.8.0_151</span><br><span class="line"></span><br><span class="line">JRE_HOME=/home/hadoop/java/jdk1.8.0_151/jre</span><br><span class="line"></span><br><span class="line">CLASSPATH=.:$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar:$JRE_HOME/lib</span><br><span class="line"></span><br><span class="line">PATH=$JAVA_HOME/bin:$PATH</span><br><span class="line"></span><br><span class="line">export PATH JAVA_HOME CLASSPATH</span><br></pre></td></tr></table></figure>

<p><img src="http://p06qbh638.bkt.clouddn.com/hadoopjava.png" alt><br>最后source一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.bashrc</span><br></pre></td></tr></table></figure>

<p>验证一下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -version</span><br></pre></td></tr></table></figure>

<p><img src="http://p06qbh638.bkt.clouddn.com/javaversion.png" alt></p>
<h2 id="4-安装Hadoop"><a href="#4-安装Hadoop" class="headerlink" title="4 安装Hadoop"></a>4 安装Hadoop</h2><p>先下载<a href="https://mirrors.cnnic.cn/apache/hadoop/common/stable/hadoop-2.9.0.tar.gz" target="_blank" rel="noopener">hadoop-2.9.0.tar.gz</a>，通过xftp上传到<code>/home/hadoop</code>目录下<br>解压<code>hadoop-2.9.0.tar.gz</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo tar zxvf hadoop-2.9.0.tar.gz</span><br></pre></td></tr></table></figure>

<p>修改一下文件的权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R hadoop:hadoop hadoop-2.9.0</span><br></pre></td></tr></table></figure>

<p><img src="http://p06qbh638.bkt.clouddn.com/%E4%BF%AE%E6%94%B9%E6%9D%83%E9%99%90.png" alt><br>验证一下Hadoop是否安装成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./hadoop-2.9.0/bin/hadoop version</span><br></pre></td></tr></table></figure>

<p>结果如下则说明安装成功<br><img src="http://p06qbh638.bkt.clouddn.com/hadoopcheck.png" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.dongjinbao.com/大数据/Win8使用VirtualBox安装CentOS-6-4教程.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JinbaoSite">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JinbaoSite">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/大数据/Win8使用VirtualBox安装CentOS-6-4教程.html" itemprop="url">Win8使用VirtualBox安装CentOS 6.4教程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-29T23:32:52+08:00">
                2017-11-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/大数据/" itemprop="url" rel="index">
                    <span itemprop="name">大数据</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-安装工具"><a href="#1-安装工具" class="headerlink" title="1 安装工具"></a>1 安装工具</h2><p>VirtualBox 5.1.30虚拟机【<a href="https://www.baidu.com/link?url=jFRD-NEnUMsEOz30yFZseExhrUQPHN70126rhx8W3_QOmC9IPW8q1ta4HoQ5maM2frsBrqV8C_60trqNb5_76IficaKdnf1Ou0LbxQb5_J3&wd=&eqid=fd987e310001c109000000055a1ec2d8" target="_blank" rel="noopener">下载</a>】<br>64位CentOs 6.4 【<a href="http://121.192.176.204/mirror.symnds.com/distributions/CentOS-vault/6.4/isos/x86_64/CentOS-6.4-x86_64-bin-DVD1.iso" target="_blank" rel="noopener">下载</a>】</p>
<h2 id="2-安装VirtualBox"><a href="#2-安装VirtualBox" class="headerlink" title="2 安装VirtualBox"></a>2 安装VirtualBox</h2><p>下载好后一直默认安装即可<br><img src="http://p06qbh638.bkt.clouddn.com/20171129221055.jpg" alt><br><img src="http://p06qbh638.bkt.clouddn.com/20171129221107.jpg" alt><br><img src="http://p06qbh638.bkt.clouddn.com/20171129221128.jpg" alt><br><img src="http://p06qbh638.bkt.clouddn.com/20171129221146.jpg" alt><br><img src="http://p06qbh638.bkt.clouddn.com/20171129221156.jpg" alt><br><img src="http://p06qbh638.bkt.clouddn.com/20171129221206.jpg" alt></p>
<h2 id="3-使用VirtualBox安装CentOS"><a href="#3-使用VirtualBox安装CentOS" class="headerlink" title="3 使用VirtualBox安装CentOS"></a>3 使用VirtualBox安装CentOS</h2><p>1、打开VirtualBox，点击“创建”按钮，创建一个虚拟机<br><img src="http://p06qbh638.bkt.clouddn.com/%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%A1%AC%E7%9B%9820171129221545.jpg" alt><br>2、命名虚拟机，选择操作系统和版本，这里是64位的<br><img src="http://p06qbh638.bkt.clouddn.com/%E9%80%89%E6%8B%A9%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F20171129221416.jpg" alt><br>3、设置内存大小，方便虚拟机使用，一般推荐设置1G，如果你也有8G的内存，可以跟我一样设置2G或者更大的内存<br><img src="http://p06qbh638.bkt.clouddn.com/%E8%AE%BE%E7%BD%AE%E5%86%85%E5%AD%98%E5%A4%A7%E5%B0%8F20171129221515.jpg" alt><br>4、创建虚拟硬盘<br><img src="http://p06qbh638.bkt.clouddn.com/%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%A1%AC%E7%9B%9820171129221545.jpg" alt><br>5、选择虚拟硬盘文件类型为VDI<br><img src="http://p06qbh638.bkt.clouddn.com/%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%A1%AC%E7%9B%98.jpg" alt><br>6、设置虚拟硬盘动态分配<br><img src="http://p06qbh638.bkt.clouddn.com/%E8%99%9A%E6%8B%9F%E7%A1%AC%E7%9B%98%E5%8A%A8%E6%80%81%E5%88%86%E9%85%8D.jpg" alt><br>7、选择文件存储的位置和容量大小<br><img src="http://p06qbh638.bkt.clouddn.com/%E6%96%87%E4%BB%B6%E4%BD%8D%E7%BD%AE%E5%92%8C%E5%A4%A7%E5%B0%8F.jpg" alt><br>8、最后create，进入下面的界面时，勿点击启动按钮，有可能导致进程中断，我们应该先设置存储，点击存储，打开存储界面<br><img src="http://p06qbh638.bkt.clouddn.com/%E5%85%88%E8%AE%BE%E7%BD%AE%E5%AD%98%E5%82%A8.jpg" alt><br>9、在存储界面中，点击没有盘片，在分配光驱上选择一个虚拟光盘，选中你下载好的Centos的IOS文件，点击OK<br><img src="http://p06qbh638.bkt.clouddn.com/%E5%AD%98%E5%82%A8%E8%AE%BE%E7%BD%AE.jpg" alt><br><img src="http://p06qbh638.bkt.clouddn.com/%E9%80%89%E4%B8%ADIOS%E6%96%87%E4%BB%B6.jpg" alt><br>10、选择刚创建的虚拟机CentOS，点击启动<br><img src="http://p06qbh638.bkt.clouddn.com/%E5%90%AF%E5%8A%A8Centos.jpg" alt><br>11、进入CentOS安装界面后，选择第二个安装<br><img src="http://p06qbh638.bkt.clouddn.com/%E5%AE%89%E8%A3%852.jpg" alt><br>12、在Disc Found中选择Skip<br><img src="http://p06qbh638.bkt.clouddn.com/%E9%80%89%E6%8B%A9Skip.jpg" alt><br>13、进入Centos界面，点击Next<br><img src="http://p06qbh638.bkt.clouddn.com/%E7%82%B9%E5%87%BBNext.jpg" alt><br>14、语言选择English，选择中文可能会报错<br><img src="http://p06qbh638.bkt.clouddn.com/%E9%80%89%E6%8B%A9%E8%AF%AD%E8%A8%80.jpg" alt><br>15、键盘选择U.S.English<br><img src="http://p06qbh638.bkt.clouddn.com/%E9%80%89%E6%8B%A9%E9%94%AE%E7%9B%98.jpg" alt><br>16、选择Basic Storage Devices<br><img src="http://p06qbh638.bkt.clouddn.com/%E9%80%89%E6%8B%A9Basic.jpg" alt><br>17、出现存储警告时，选择忽略<br><img src="http://p06qbh638.bkt.clouddn.com/%E9%80%89%E6%8B%A9Yes.jpg" alt><br>18、设置HostName<br><img src="http://p06qbh638.bkt.clouddn.com/%E8%AE%BE%E7%BD%AEhostname.jpg" alt><br>19、设置时区<br><img src="http://p06qbh638.bkt.clouddn.com/%E8%AE%BE%E7%BD%AE%E6%97%B6%E5%8C%BA.jpg" alt><br>20、设置密码，密码长度必须大于6位<br><img src="http://p06qbh638.bkt.clouddn.com/%E8%AE%BE%E7%BD%AE%E5%AF%86%E7%A0%81.jpg" alt><br>21、替换原有Linux系统<br><img src="http://p06qbh638.bkt.clouddn.com/%E6%9B%BF%E6%8D%A2%E5%8E%9F%E6%9C%89%E7%B3%BB%E7%BB%9F.jpg" alt><br>22、选择Write changes to disk<br><img src="http://p06qbh638.bkt.clouddn.com/writechanges.jpg" alt><br>23、选择minimal<br><img src="http://p06qbh638.bkt.clouddn.com/%E9%80%89%E6%8B%A9minimal.jpg" alt><br>24、安装完成后，重启，输入root和密码即可进入<br><img src="http://p06qbh638.bkt.clouddn.com/%E9%87%8D%E5%90%AFroot.jpg" alt><br><img src="http://p06qbh638.bkt.clouddn.com/%E7%99%BB%E5%BD%95.jpg" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.dongjinbao.com/Java/Map遍历的两种方式keySet-和entrySet.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JinbaoSite">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JinbaoSite">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Java/Map遍历的两种方式keySet-和entrySet.html" itemprop="url">Map遍历的两种方式keySet()和entrySet()</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-11-15T20:32:04+08:00">
                2017-11-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java/" itemprop="url" rel="index">
                    <span itemprop="name">Java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Map集合中虽然提供了get()获取元素的方法，但是只能取出其对应的值，而不能全部取出，所以在Map集合中提供了两种遍历方式：keySet()和entrySet()。keySet()和entrySet()在Map元素数量小于$10^5$时，查询速度区别不大，但是当大于$10^5$时，entrySet()的速度明显快于keySet()，所以尽量使用entrySet()方式来进行Map集合遍历</p>
<h4 id="1-KeySet-的用法"><a href="#1-KeySet-的用法" class="headerlink" title="1 KeySet()的用法"></a>1 KeySet()的用法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();</span><br><span class="line">map.put(&quot;a&quot;,&quot;b&quot;);</span><br><span class="line">//通过keySet()方法获取Map集合的所有键Set集合</span><br><span class="line">Set&lt;String&gt; keySet = map.keySet();</span><br><span class="line">Iterator&lt;String&gt; it =keySet.iterator();	//迭代器</span><br><span class="line">while (it.hasNext())&#123;</span><br><span class="line">	String key = it.next();</span><br><span class="line">	String value = map.get(key);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="2-entrySet-的用法"><a href="#2-entrySet-的用法" class="headerlink" title="2 entrySet()的用法"></a>2 entrySet()的用法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String,String&gt; map = new HashMap&lt;String,String&gt;();</span><br><span class="line">map.put(&quot;a&quot;,&quot;b&quot;);</span><br><span class="line">//通过entrySet()方法将map集合中的映射关系取出，得到的映射关系是Map.Entry类型</span><br><span class="line">Set&lt;Map.Entry&lt;String,String&gt;&gt; entrySet = map.entrySet();	</span><br><span class="line">Iterator&lt;Map.Entry&lt;String,String&gt;&gt; it = entrySet.iterator();	//迭代器</span><br><span class="line">while (it.hasNext())&#123;</span><br><span class="line">	Entry&lt;String,String&gt; me = it.next()</span><br><span class="line">	String key = me.getKey();</span><br><span class="line">	String value = me.getValue();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.dongjinbao.com/Spring-boot/基于Spring-boot的Spring-data-jpa连接MySQL数据库.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JinbaoSite">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JinbaoSite">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/Spring-boot/基于Spring-boot的Spring-data-jpa连接MySQL数据库.html" itemprop="url">基于Spring boot的Spring data jpa连接MySQL数据库</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-10-15T11:27:10+08:00">
                2017-10-15
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Spring-boot/" itemprop="url" rel="index">
                    <span itemprop="name">Spring boot</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <a id="more"></a>
<h2 id="1-创建项目"><a href="#1-创建项目" class="headerlink" title="1 创建项目"></a>1 创建项目</h2><p>以创建一个员工信息管理项目为例，创建一个Maven工程（需要提前配置好Maven环境）。<br>打开File-&gt;New-&gt;Other-&gt;Maven-&gt;Maven Project<br><img src="http://7xwian.com1.z0.glb.clouddn.com/20170825213026.jpg" alt><br>Next<br><img src="http://7xwian.com1.z0.glb.clouddn.com/20170825213203.jpg" alt><br>Next<br><img src="http://7xwian.com1.z0.glb.clouddn.com/20170825213426.jpg" alt><br>Finish，一个Maven工程就建好了。</p>
<h2 id="2-配置pom-xml"><a href="#2-配置pom-xml" class="headerlink" title="2 配置pom.xml"></a>2 配置pom.xml</h2><p>配置pom.xml，pom.xml主要用来描述项目：配置文件、开发者需要遵循的规则、缺陷管理系统、组织和licenses、项目的url、项目的依赖性以及其他所有的项目相关因素。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span> <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.jinbaosite<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>EmployeeManager<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">version</span>&gt;</span>0.0.1-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 版本控制 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.6.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- spring-boot-starter-web --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- spring-boot-starter-data-jpa --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-data-jpa<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- mysql-connector-java --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- spring-boot-configuration-processor --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>保持后，右击项目-&gt;Maven-&gt;Update project，等待下载好项目所需要的包，点开项目可以发现多了一个Maven Dependencies<br><img src="http://7xwian.com1.z0.glb.clouddn.com/20170825214921.jpg" alt></p>
<h2 id="2-配置application-properties"><a href="#2-配置application-properties" class="headerlink" title="2 配置application.properties"></a>2 配置application.properties</h2><p>在src/main/resource下新建一个application.properties文件（点击文件夹src/main/resource，然后New-&gt;File）<br>application.properties文件主要用来配置MySQL的连接<br><img src="http://7xwian.com1.z0.glb.clouddn.com/20170825215439.jpg" alt></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 服务器访问端口</span><br><span class="line">server.port=8080</span><br><span class="line"># 数据库基本配置</span><br><span class="line">spring.datasource.url=jdbc:mysql://127.0.0.1:3306/test</span><br><span class="line">spring.datasource.username=root</span><br><span class="line">spring.datasource.password=root</span><br><span class="line">spring.datasource.driver-class-name=com.mysql.jdbc.Driver</span><br><span class="line"></span><br><span class="line">spring.jpa.database=MYSQL</span><br><span class="line"># 显示后台处理的SQL语句</span><br><span class="line">spring.jpa.show-sql=true</span><br><span class="line"># 自动检查实体和数据库表是否一致，如果不一致则会进行更新数据库表</span><br><span class="line">spring.jpa.hibernate.ddl-auto=update</span><br></pre></td></tr></table></figure>

<h2 id="3-配置Application-java"><a href="#3-配置Application-java" class="headerlink" title="3 配置Application.java"></a>3 配置Application.java</h2><p>Application.java是作为Spring boot的启动配置，当需要运行这个项目时，Run这个Application.java即可<br>创建com.jinbaosite.employeemanager包，然后在包下新建Application.java，代码如下(代码不含包，请自行导入)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@EnableAutoConfiguration</span><br><span class="line">@EnableTransactionManagement</span><br><span class="line">@ServletComponentScan</span><br><span class="line">@ComponentScan</span><br><span class="line">@EnableScheduling</span><br><span class="line">public class Application &#123;</span><br><span class="line">	public static void main(String[] args) &#123;</span><br><span class="line">		SpringApplication.run(Application.class,args);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-编写实体层Employee-java"><a href="#4-编写实体层Employee-java" class="headerlink" title="4 编写实体层Employee.java"></a>4 编写实体层Employee.java</h2><p>创建com.jinbaosite.employeemanager.domain包，然后在包下新建Employee.java，代码如下（自行导入包）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">@Entity</span><br><span class="line">@Table(name=&quot;employee&quot;)</span><br><span class="line">public class Employee &#123;</span><br><span class="line">	private static final long serialVersionUID = 1L;</span><br><span class="line">	</span><br><span class="line">	@Id</span><br><span class="line">	@Column(name=&quot;id&quot;)</span><br><span class="line">	private String id;</span><br><span class="line">	@Column(name=&quot;name&quot;)</span><br><span class="line">	private String name;</span><br><span class="line">	@Column(name=&quot;gender&quot;)</span><br><span class="line">	private String gender;</span><br><span class="line">	@Column(name=&quot;age&quot;)</span><br><span class="line">	private int age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>@Entity代表这是一个实体类，@Table(name=”employee”)用来对应MySQL中的employee数据库，@Id用来表达主键，@Column(name=”id”)表明一个id属性。<br>这里还需要提供get/set方法，在空白处右击鼠标-&gt;Source-&gt;Generate Getters and Setters，选中所有的成员，然后OK就可以增加get/set方法了。</p>
<h2 id="5-编写dao层"><a href="#5-编写dao层" class="headerlink" title="5 编写dao层"></a>5 编写dao层</h2><p>dao层主要用来实现对数据库的增、删、查、改。<br>创建com.jinbaosite.employeemanager.dao包，然后在包下新建接口EmployeeRepository.java，代码如下（自行导入包）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public interface EmployeeRepository extends JpaRepository&lt;Employee,String&gt; &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>接口JpaRepository来自Spring data jpa，后面是实体类以及实体类在数据库中的主键属性。</p>
<h2 id="6-编写controller层"><a href="#6-编写controller层" class="headerlink" title="6 编写controller层"></a>6 编写controller层</h2><p>controller层主要用来与前端交互的<br>创建com.jinbaosite.employeemanager.controller包，然后在包下新建接口EmployeeController.java，代码如下（自行导入包）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@RestController</span><br><span class="line">@RequestMapping(&quot;/employee&quot;)</span><br><span class="line">public class EmployeeController &#123;</span><br><span class="line">	@RequestMapping(&quot;queryAll&quot;)</span><br><span class="line">	@ResponseBody</span><br><span class="line">	public List&lt;Employee&gt; queryAll()&#123;</span><br><span class="line">		List&lt;Employee&gt; list = new ArrayList&lt;Employee&gt;();</span><br><span class="line">		list = employeeRepository.findAll();</span><br><span class="line">		return list;</span><br><span class="line">	&#125;</span><br><span class="line">	@Autowired</span><br><span class="line">	private EmployeeRepository employeeRepository;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="7-验证连接"><a href="#7-验证连接" class="headerlink" title="7 验证连接"></a>7 验证连接</h2><p>在MySQL中创建test数据库，然后创建employee表，在表中插入一部分数据，通过浏览器访问<a href="http://localhost:8080/employee/queryAll，结果如下说明访问成功。" target="_blank" rel="noopener">http://localhost:8080/employee/queryAll，结果如下说明访问成功。</a><br><img src="http://7xwian.com1.z0.glb.clouddn.com/20170825224137.jpg" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.dongjinbao.com/CodeChef/July-Challenge-2017-Whats-in-the-Name.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JinbaoSite">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JinbaoSite">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/CodeChef/July-Challenge-2017-Whats-in-the-Name.html" itemprop="url">July Challenge 2017 | Whats in the Name</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-12T10:25:49+08:00">
                2017-07-12
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CodeChef/" itemprop="url" rel="index">
                    <span itemprop="name">CodeChef</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>Nitika 读了一本历史书，想要理清其中的人物关系。因此她要她的哥哥把书中出现的历史人物全部列出来。哥哥把列好的人名给了 Nitika，但 Nitika 非常不满意，因为哥哥列出的这些人名格式非常不规范。处于强迫症，Nitika 决定自己来整理这些人名。<br>一个名字最多有三个部分：姓、名，和中间名，按照名、中间名、姓的顺序排列；最少也有姓这一个部分。Nitika 决定把人名写成下面的格式：<br>• 只有每个部分的首字母是大写；<br>• 除了姓之外，每个部分用其大写首字母加一个‘.’表示。<br>比如，按这个规则对一些名字进行改写：<br>• gandhi → Gandhi<br>• mahatma gandhI → M. Gandhi<br>• Mohndas KaramChand gandhi → M. K. Gandhi</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>先将所有的字母转为小写，然后记录空格的位置，再将第一个字母、空格后的字母大写后加‘.’输出，将最后空格后面的字母全部输出。</p>
<h2 id="参考代码"><a href="#参考代码" class="headerlink" title="参考代码"></a>参考代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">char s[100];</span><br><span class="line">char ans[100];</span><br><span class="line">int tmp[100];</span><br><span class="line">int main()&#123;</span><br><span class="line">	int t;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	cin.getline(s,100);</span><br><span class="line">	while (t--)&#123;</span><br><span class="line">		memset(ans,0,sizeof(ans));</span><br><span class="line">		cin.getline(s,100);</span><br><span class="line">		int len=strlen(s);</span><br><span class="line">		int cnt=0;</span><br><span class="line">		for (int i=0;i&lt;len;i++)&#123;</span><br><span class="line">			if (&apos;A&apos;&lt;=s[i] &amp;&amp; s[i]&lt;=&apos;Z&apos;)</span><br><span class="line">				s[i]=s[i]-&apos;A&apos;+&apos;a&apos;;</span><br><span class="line">			if (s[i]==&apos; &apos;)</span><br><span class="line">				tmp[cnt++]=i;</span><br><span class="line">		&#125;</span><br><span class="line">		if (!cnt)&#123;</span><br><span class="line">			s[0]=s[0]-&apos;a&apos;+&apos;A&apos;;</span><br><span class="line">			cout&lt;&lt;s&lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">		else&#123;</span><br><span class="line">			cout&lt;&lt;char(s[0]-&apos;a&apos;+&apos;A&apos;)&lt;&lt;&quot;.&quot;&lt;&lt;&quot; &quot;;</span><br><span class="line">			for (int i=0;i&lt;cnt-1;i++)</span><br><span class="line">				cout&lt;&lt;char(s[tmp[i]+1]-&apos;a&apos;+&apos;A&apos;)&lt;&lt;&quot;.&quot;&lt;&lt;&quot; &quot;;</span><br><span class="line">			cout&lt;&lt;char(s[tmp[cnt-1]+1]-&apos;a&apos;+&apos;A&apos;);</span><br><span class="line">			for (int i=tmp[cnt-1]+2;i&lt;len;i++)</span><br><span class="line">				cout&lt;&lt;s[i];</span><br><span class="line">			cout&lt;&lt;endl;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.dongjinbao.com/CodeChef/July-Challenge-2017-Calculator.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JinbaoSite">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JinbaoSite">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/CodeChef/July-Challenge-2017-Calculator.html" itemprop="url">July Challenge 2017 | Calculator</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-11T21:28:00+08:00">
                2017-07-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CodeChef/" itemprop="url" rel="index">
                    <span itemprop="name">CodeChef</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>大厨有一个计算器，计算器上有两个屏幕和两个按钮。初始时每个屏幕上显示的都是 0。没按一次第一个按钮，就会让第一个屏幕上显示的数字加 1，同时消耗 1 单位的能量。每按一次第二个按钮，会让第二个屏幕上显示的数字加上第一个屏幕上显示的数字，同时消耗 B 单位的能量。<br>初始时，计算器有 N 单位的能量。大厨想知道在能量限制下，第二个屏幕上最大可以出现的数字是多少？</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>贪心思想，先按第一个按钮，再按第二按钮。假设x次按第一个按钮，y次按第二个按钮，则必须满足</p>
<p>$$<br>\begin{cases}<br>N=x+By \newline<br>M=xy<br>\end{cases}<br>$$</p>
<p>为了求M的最大值，我们解这个方程。</p>
<h2 id="参考代码"><a href="#参考代码" class="headerlink" title="参考代码"></a>参考代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long ll;</span><br><span class="line">int main()&#123;</span><br><span class="line">	int t;</span><br><span class="line">	ll n,b;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	while (t--)&#123;</span><br><span class="line">		cin&gt;&gt;n&gt;&gt;b;</span><br><span class="line">		ll k=n/(2*b);</span><br><span class="line">		ll ans1=-b*k*k+n*k;</span><br><span class="line">		ll ans2=-b*(k+1)*(k+1)+n*(k+1);</span><br><span class="line">		if (ans1&gt;ans2) cout&lt;&lt;ans1&lt;&lt;endl;</span><br><span class="line">		else cout&lt;&lt;ans2&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.dongjinbao.com/CodeChef/July-Challenge-2017-Chef-and-Sign-Sequences.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JinbaoSite">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JinbaoSite">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/CodeChef/July-Challenge-2017-Chef-and-Sign-Sequences.html" itemprop="url">July Challenge 2017 | Chef and Sign Sequences</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-11T21:10:04+08:00">
                2017-07-11
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CodeChef/" itemprop="url" rel="index">
                    <span itemprop="name">CodeChef</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="题意"><a href="#题意" class="headerlink" title="题意"></a>题意</h2><p>大厨昨天捡到了一个奇怪的字符串 s，这是一个仅包含‘&lt;’、‘=’和‘&gt;’三种比较符号的字符串。记字符串长度为 N，大厨想要在字符串的开头、结尾，和每两个字符之间插入一个正整数，共N + 1 个数。大厨希望插入数字之后，这些比较符号所表达的含义是正确的。举个例子，如果在‘&lt;’前后分别插入 a 和 b，那么应当有 a &lt; b。对于‘=’和‘&gt;’也是类似的。大厨可以在 [1, P] 中任意选择数字插入，同一个数也可以被插入到多个位置。<br>请你帮大厨计算 P 的最小取值可以是多少。</p>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>忽略”=”，计算忽略”=”后字符串中连续最长的”&lt;”的长度或者连续最长的”&gt;”的长度。</p>
<h2 id="参考代码"><a href="#参考代码" class="headerlink" title="参考代码"></a>参考代码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">char s[100000+5];</span><br><span class="line">int main()&#123;</span><br><span class="line">	int t;</span><br><span class="line">	cin&gt;&gt;t;</span><br><span class="line">	while (t--)&#123;</span><br><span class="line">		cin&gt;&gt;s;</span><br><span class="line">		int x=0,y=0;</span><br><span class="line">		int ans1=0;</span><br><span class="line">		for (int i=0;s[i];i++)&#123;</span><br><span class="line">			if (s[i]==&apos;&gt;&apos;) x++;</span><br><span class="line">			if (s[i]==&apos;&lt;&apos;) x=0;</span><br><span class="line">			if (x&gt;ans1) ans1=x;</span><br><span class="line">		&#125;</span><br><span class="line">		int ans2=0;</span><br><span class="line">		for (int i=0;s[i];i++)&#123;</span><br><span class="line">			if (s[i]==&apos;&lt;&apos;) y++;</span><br><span class="line">			if (s[i]==&apos;&gt;&apos;) y=0;</span><br><span class="line">			if (y&gt;ans2) ans2=y;</span><br><span class="line">		&#125;</span><br><span class="line">		if (ans1&gt;ans2) cout&lt;&lt;ans1+1&lt;&lt;endl;</span><br><span class="line">		else cout&lt;&lt;ans2+1&lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.dongjinbao.com/机器学习/Python机器学习应用-期末大作业1（程序设计）.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JinbaoSite">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JinbaoSite">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/机器学习/Python机器学习应用-期末大作业1（程序设计）.html" itemprop="url">Python机器学习应用 | 期末大作业1（程序设计）</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-04T13:09:27+08:00">
                2017-07-04
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-题目"><a href="#1-题目" class="headerlink" title="1 题目"></a>1 题目</h2><p>本次实验为分类任务，实验数据在附件中，共有2个文件，data_train.txt、data_test.txt，分别用于训练和测试，在训练文件中数据有55列，前54列是样本的特征（输入数据），最后一列是样本的类别（label），类别共有7种，对应为1~7。测试数据中没有类别（label），需要根据模型预测相应的类别（label），这些预测结果需要上传，并根据预测结果给出相应的分数。</p>
<p>作业要求：<br>使用三种模型进行预测。<br>提交预测结果，每个模型一个文件，命名为model_1.txt、model_2.txt、model_3.txt，文件中每行一个数字（1~7）表示预测结果，行数与data_test.txt的行数相同。<br>撰写实验报告，包含模型介绍，数据处理，结果展示与分析。<br>提交预测结果、实验报告、代码。</p>
<p>数据下载：链接：<a href="http://pan.baidu.com/s/1crQFH8" target="_blank" rel="noopener">http://pan.baidu.com/s/1crQFH8</a> 密码：tj2p</p>
<h2 id="2-数据读取"><a href="#2-数据读取" class="headerlink" title="2 数据读取"></a>2 数据读取</h2><p>直接读取data_train.txt文件，先读取全部数据，然后再一行一行读取，这里设置90%用于训练，10%用于验证。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取train_data,val_data</span></span><br><span class="line">f = open(<span class="string">'data_train.txt'</span>)</span><br><span class="line">lines = f.readlines()</span><br><span class="line"></span><br><span class="line"><span class="comment">#90%用于训练，10%用于验证</span></span><br><span class="line">train_len = int(<span class="number">0.9</span>*len(lines))</span><br><span class="line">val_len = len(lines) - train_len</span><br><span class="line"></span><br><span class="line">train_dataSet = np.zeros([train_len,<span class="number">54</span>],int)</span><br><span class="line">train_label = np.zeros([train_len,<span class="number">7</span>],int)</span><br><span class="line">val_dataSet = np.zeros([val_len,<span class="number">54</span>],int)</span><br><span class="line">val_label = np.zeros([val_len,<span class="number">7</span>],int)</span><br><span class="line"></span><br><span class="line"><span class="comment">#训练数据集</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(train_len):</span><br><span class="line">	line = lines[i]</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">53</span>):</span><br><span class="line">		train_dataSet[i][j] = line.split(<span class="string">' '</span>)[j]</span><br><span class="line">	digit = int(line.split(<span class="string">' '</span>)[<span class="number">54</span>])</span><br><span class="line">	train_label[i][digit<span class="number">-1</span>] = <span class="number">1.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#验证数据集</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(val_len):</span><br><span class="line">	line = lines[i+train_len]</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">53</span>):</span><br><span class="line">		val_dataSet[i][j] = line.split(<span class="string">' '</span>)[j]</span><br><span class="line">	digit = int(line.split(<span class="string">' '</span>)[<span class="number">54</span>])</span><br><span class="line">	val_label[i][digit<span class="number">-1</span>] = <span class="number">1.0</span></span><br></pre></td></tr></table></figure>

<p>对于测试文件，也是直接读取</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取test_data.txt</span></span><br><span class="line">f = open(<span class="string">'test_data.txt'</span>)</span><br><span class="line">lines = f.readlines()</span><br><span class="line"></span><br><span class="line">test_len = len(lines)</span><br><span class="line">test_dataSet = np.zeros([test_len,<span class="number">54</span>],int)</span><br><span class="line"></span><br><span class="line"><span class="comment">#测试数据集</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(test_len):</span><br><span class="line">	line = lines[i]</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">53</span>):</span><br><span class="line">		test_dataSet[i][j] = line.split(<span class="string">' '</span>)[j]</span><br></pre></td></tr></table></figure>

<h2 id="2-MLPClassifier"><a href="#2-MLPClassifier" class="headerlink" title="2 MLPClassifier"></a>2 MLPClassifier</h2><h3 id="3-1-MLP简介"><a href="#3-1-MLP简介" class="headerlink" title="3.1 MLP简介"></a>3.1 MLP简介</h3><p>多层感知机（MLP）是一种全连接神经网络，它包含输入层，隐藏层，输出层。<br><img src="http://oltfslql1.bkt.clouddn.com/20150128033221168.png" alt></p>
<h3 id="3-2-MLP训练和验证"><a href="#3-2-MLP训练和验证" class="headerlink" title="3.2 MLP训练和验证"></a>3.2 MLP训练和验证</h3><p>构建神经网络，设置隐藏层神经元个数、激活函数、优化方法、学习率</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clf = MLPClassifier(hidden_layer_sizes=(200,),activation=&apos;logistic&apos;, solver=&apos;adam&apos;,learning_rate_init = 0.0001, max_iter=2000)</span><br></pre></td></tr></table></figure>

<p>训练神经网络</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clf.fit(train_dataSet,train_label)</span><br></pre></td></tr></table></figure>

<p>获得训练准确率和验证准确率</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">res = clf.predict(val_dataSet)</span><br><span class="line">cnt = 0</span><br><span class="line">for i in range(val_len):</span><br><span class="line">	if np.sum(res[i]==val_label[i]) == 7:</span><br><span class="line">		cnt += 1</span><br><span class="line"></span><br><span class="line">res2 = clf.predict(train_dataSet)</span><br><span class="line">cnt2 = 0</span><br><span class="line">for i in range(train_len):</span><br><span class="line">	if np.sum(res[i]==train_label[i]) == 7:</span><br><span class="line">		cnt2 += 1</span><br><span class="line"></span><br><span class="line">print(&apos;train accuracy = %.1f,validation accuracy = %.1f (%.1f sec)&apos; %(1.0*cnt2/train_len,1.0*cnt/val_len,time.time()-start_time))</span><br></pre></td></tr></table></figure>

<h3 id="3-3-结果分析"><a href="#3-3-结果分析" class="headerlink" title="3.3 结果分析"></a>3.3 结果分析</h3><h4 id="3-3-1-隐藏层的数目"><a href="#3-3-1-隐藏层的数目" class="headerlink" title="3.3.1 隐藏层的数目"></a>3.3.1 隐藏层的数目</h4><p>对隐藏层参数hidden_layer_sizes，分别设置50，100，150，200，250，300进行实验</p>
<table>
<thead>
<tr>
<th align="center">hidden_layer_sizes</th>
<th align="center">50</th>
<th align="center">100</th>
<th align="center">150</th>
<th align="center">200</th>
<th align="center">250</th>
<th align="center">300</th>
</tr>
</thead>
<tbody><tr>
<td align="center">train accuracy</td>
<td align="center">73.39%</td>
<td align="center">76.14%</td>
<td align="center">77.07%</td>
<td align="center">78.48%</td>
<td align="center">79.06%</td>
<td align="center">79.46%</td>
</tr>
<tr>
<td align="center">validation accuracy</td>
<td align="center">73.19%</td>
<td align="center">75.52%</td>
<td align="center">76.64%</td>
<td align="center">77.87%</td>
<td align="center">78.5%</td>
<td align="center">78.86%</td>
</tr>
<tr>
<td align="center">time (sec)</td>
<td align="center">372.5</td>
<td align="center">537.4</td>
<td align="center">609.9</td>
<td align="center">794.1</td>
<td align="center">798.9</td>
<td align="center">877.2</td>
</tr>
</tbody></table>
<p>可以看出，随着隐藏层参数hidden_layer_sizes的增大，train accuracy和validation accuracy都随之增大，但是增长的幅度逐渐降低，训练所花费的时间虽然也在增多，不过后面增长幅度也降低了。所以，这里我们选取200作为合适的隐藏层参数值。</p>
<h4 id="3-3-2-激活函数"><a href="#3-3-2-激活函数" class="headerlink" title="3.3.2 激活函数"></a>3.3.2 激活函数</h4><p>激活函数有logistic、identity、tanh、relu，分别设置并进行实验</p>
<table>
<thead>
<tr>
<th align="center">activation</th>
<th align="center">‘logistic’</th>
<th align="center">‘identity’</th>
<th align="center">‘tanh’</th>
<th align="center">‘relu’</th>
</tr>
</thead>
<tbody><tr>
<td align="center">train accuracy</td>
<td align="center">78.18%</td>
<td align="center">50.27%</td>
<td align="center">74.11%</td>
<td align="center">56.48%</td>
</tr>
<tr>
<td align="center">validation accuracy</td>
<td align="center">77.63%</td>
<td align="center">50.02%</td>
<td align="center">73.82%</td>
<td align="center">56.07%</td>
</tr>
<tr>
<td align="center">time (sec)</td>
<td align="center">739.8</td>
<td align="center">48.3</td>
<td align="center">706.5</td>
<td align="center">121.5</td>
</tr>
</tbody></table>
<p>可以看出选择logistic效果最好</p>
<h4 id="3-3-3-优化器"><a href="#3-3-3-优化器" class="headerlink" title="3.3.3 优化器"></a>3.3.3 优化器</h4><p>优化器有sgd、adam，分别设置进行实验</p>
<table>
<thead>
<tr>
<th align="center">solver</th>
<th align="center">‘sgd’</th>
<th align="center">‘adam’</th>
</tr>
</thead>
<tbody><tr>
<td align="center">train accuracy</td>
<td align="center">25.69%</td>
<td align="center">79.20%</td>
</tr>
<tr>
<td align="center">validation accuracy</td>
<td align="center">25.46%</td>
<td align="center">78.61%</td>
</tr>
<tr>
<td align="center">time (sec)</td>
<td align="center">67.7</td>
<td align="center">904.0</td>
</tr>
</tbody></table>
<p>很明显，adam优化器效果更好</p>
<h4 id="3-3-4-学习率设置"><a href="#3-3-4-学习率设置" class="headerlink" title="3.3.4 学习率设置"></a>3.3.4 学习率设置</h4><p>设置学习率0.1,0.01,0.001,0.0001,0.00001，实验结果如下</p>
<table>
<thead>
<tr>
<th align="center">learning_rate_init</th>
<th align="center">0.1</th>
<th align="center">0.01</th>
<th align="center">0.001</th>
<th align="center">0.0001</th>
<th align="center">0.00001</th>
</tr>
</thead>
<tbody><tr>
<td align="center">train accuracy</td>
<td align="center">48.71%</td>
<td align="center">0</td>
<td align="center">65.94%</td>
<td align="center">79.59%</td>
<td align="center">78.11%</td>
</tr>
<tr>
<td align="center">validation accuracy</td>
<td align="center">48.52%</td>
<td align="center">0</td>
<td align="center">65.59%</td>
<td align="center">78.88%</td>
<td align="center">77.80%</td>
</tr>
<tr>
<td align="center">time (sec)</td>
<td align="center">51.7</td>
<td align="center">50.2</td>
<td align="center">117.6</td>
<td align="center">965.4</td>
<td align="center">3048.1</td>
</tr>
</tbody></table>
<p>所以设置学习率learning_rate_init=0.0001</p>
<h3 id="3-4-获取预测结果"><a href="#3-4-获取预测结果" class="headerlink" title="3.4 获取预测结果"></a>3.4 获取预测结果</h3><p>设置隐藏层hidden_layer_sizes=200，激活函数activation=’logistic’，优化器为adam，学习率learning_rate_init=0.0001，将所有数据用于训练集（不再设置验证集），并将预测结果输出至文件中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ans = clf.predict(test_dataSet)</span><br><span class="line">f = open(&apos;model_1.txt&apos;,&apos;w&apos;)</span><br><span class="line">for i in range(test_len):</span><br><span class="line">	for j in range(7):</span><br><span class="line">		if ans[i][j] != 0:</span><br><span class="line">			f.write(str(j+1) + &apos;\n&apos;)</span><br><span class="line">			break</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<h2 id="4-KNN"><a href="#4-KNN" class="headerlink" title="4 KNN"></a>4 KNN</h2><h3 id="4-1-KNN简介"><a href="#4-1-KNN简介" class="headerlink" title="4.1 KNN简介"></a>4.1 KNN简介</h3><p>KNN：通过计算待分类数据点与已有数据集中的所有数据点的距离，取距离最小的前K个点，根据“少数服从多数”的原则，将这个数据点划分为出现次数最多的那个类别。</p>
<h3 id="4-2-KNN训练和验证"><a href="#4-2-KNN训练和验证" class="headerlink" title="4.2 KNN训练和验证"></a>4.2 KNN训练和验证</h3><p>构建KNN分类器：设置查找算法以及邻居点数量(k)值。 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">knn = neighbors.KNeighborsClassifier(algorithm=&apos;kd_tree&apos;,n_neighbors=nei)</span><br></pre></td></tr></table></figure>

<p>训练神经网络</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">knn.fit(train_dataSet,train_label)</span><br></pre></td></tr></table></figure>

<p>获得训练准确率和验证准确率</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">res = knn.predict(val_dataSet)</span><br><span class="line">cnt = 0</span><br><span class="line">for i in range(val_len):</span><br><span class="line">	if np.sum(res[i]==val_label[i]) == 7:</span><br><span class="line">		cnt += 1</span><br><span class="line">res2 = knn.predict(train_dataSet)</span><br><span class="line">cnt2 = 0</span><br><span class="line">for i in range(train_len):</span><br><span class="line">	if np.sum(res2[i]==train_label[i]) == 7:</span><br><span class="line">		cnt2 += 1</span><br><span class="line">print(&apos;train accuracy = %.4f,validation accuracy = %.4f (%.1f sec)&apos; %(1.0*cnt2/train_len,1.0*cnt/val_len,time.time()-start_time))</span><br></pre></td></tr></table></figure>

<h3 id="4-3-结果分析"><a href="#4-3-结果分析" class="headerlink" title="4.3 结果分析"></a>4.3 结果分析</h3><h4 id="4-3-1-邻居数量K"><a href="#4-3-1-邻居数量K" class="headerlink" title="4.3.1 邻居数量K"></a>4.3.1 邻居数量K</h4><p>设置K=1,2,3,4,5,6,7，实验结果如下：</p>
<table>
<thead>
<tr>
<th align="center">n_neighbors</th>
<th align="center">1</th>
<th align="center">2</th>
<th align="center">3</th>
<th align="center">4</th>
<th align="center">5</th>
<th align="center">6</th>
<th align="center">7</th>
</tr>
</thead>
<tbody><tr>
<td align="center">train accuracy</td>
<td align="center">100%</td>
<td align="center">96.28%</td>
<td align="center">98.71%</td>
<td align="center">96.49%</td>
<td align="center">98.12%</td>
<td align="center">96.29%</td>
<td align="center">97.55%</td>
</tr>
<tr>
<td align="center">validation accuracy</td>
<td align="center">96.14%</td>
<td align="center">92.57%</td>
<td align="center">96.31%</td>
<td align="center">93.71%</td>
<td align="center">96.12%</td>
<td align="center">93.90%</td>
<td align="center">95.71%</td>
</tr>
<tr>
<td align="center">time (sec)</td>
<td align="center">20.1</td>
<td align="center">32.2</td>
<td align="center">35.9</td>
<td align="center">42.1</td>
<td align="center">45.5</td>
<td align="center">48.3</td>
<td align="center">49.2</td>
</tr>
</tbody></table>
<p>虽然K=1时，训练集准确度最高，但是在验证集中相对更低，所以K=1使得分类器过拟合了，在这里选择K=3作为合适的值。</p>
<h4 id="4-3-2-查找算法"><a href="#4-3-2-查找算法" class="headerlink" title="4.3.2 查找算法"></a>4.3.2 查找算法</h4><p>查找算法有：ball_tree、kd_tree、brute，实验结果如下</p>
<table>
<thead>
<tr>
<th align="center">algorithm</th>
<th align="center">ball_tree</th>
<th align="center">kd_tree</th>
</tr>
</thead>
<tbody><tr>
<td align="center">train accuracy</td>
<td align="center">98.71%</td>
<td align="center">96.31%</td>
</tr>
<tr>
<td align="center">validation accuracy</td>
<td align="center">98.71%</td>
<td align="center">96.31%</td>
</tr>
<tr>
<td align="center">time (sec)</td>
<td align="center">394.2</td>
<td align="center">36.9</td>
</tr>
</tbody></table>
<p>查找算法ball_tree与kd_tree效果一样，但是ball_tree花费时间是kd_tree的10倍，所以选择kd_tree。</p>
<h3 id="4-4-获取预测结果"><a href="#4-4-获取预测结果" class="headerlink" title="4.4 获取预测结果"></a>4.4 获取预测结果</h3><p>KNN设置K=3，使用查找算法kd_tree，将全部数据集用于训练，并将预测结果输出至文件中。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ans = knn.predict(test_dataSet)</span><br><span class="line">f = open(<span class="string">'model_2.txt'</span>,<span class="string">'w'</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(test_len):</span><br><span class="line">	<span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">7</span>):</span><br><span class="line">		<span class="keyword">if</span> ans[i][j] != <span class="number">0</span>:</span><br><span class="line">			f.write(str(j+<span class="number">1</span>) + <span class="string">'\n'</span>)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<h2 id="5-决策树"><a href="#5-决策树" class="headerlink" title="5 决策树"></a>5 决策树</h2><h3 id="5-1-决策树简介"><a href="#5-1-决策树简介" class="headerlink" title="5.1 决策树简介"></a>5.1 决策树简介</h3><p>决策树是一种树形结构的分类器，通过顺序询问分类点的属性决定分类点最终的类别。通常根据特征的信息增益或其他指标，构建一颗决策树。在分类时，只需要按照决策树中的结点依次进行判断，即可得到样本所属类别。</p>
<h3 id="5-2-决策树训练和验证"><a href="#5-2-决策树训练和验证" class="headerlink" title="5.2 决策树训练和验证"></a>5.2 决策树训练和验证</h3><p>构建决策树训练器</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clf = DecisionTreeClassifier()</span><br></pre></td></tr></table></figure>

<p>决策树训练</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">clf.fit(train_dataSet,train_label)</span><br></pre></td></tr></table></figure>

<p>获得训练准确率和验证准确率</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">res = clf.predict(val_dataSet)</span><br><span class="line">cnt = 0</span><br><span class="line">for i in range(val_len):</span><br><span class="line">	if np.sum(res[i]==val_label[i]) == 7:</span><br><span class="line">		cnt += 1</span><br><span class="line">res2 = clf.predict(train_dataSet)</span><br><span class="line">cnt2 = 0</span><br><span class="line">for i in range(train_len):</span><br><span class="line">	if np.sum(res2[i]==train_label[i]) == 7:</span><br><span class="line">		cnt2 += 1</span><br><span class="line">print(&apos;train accuracy = %.4f,validation accuracy = %.4f (%.1f sec)&apos; %(1.0*cnt2/train_len,1.0*cnt/val_len,time.time()-start_time))</span><br></pre></td></tr></table></figure>

<h3 id="5-3-结果分析"><a href="#5-3-结果分析" class="headerlink" title="5.3 结果分析"></a>5.3 结果分析</h3><table>
<thead>
<tr>
<th align="center">1</th>
<th align="center">2</th>
</tr>
</thead>
<tbody><tr>
<td align="center">train accuracy</td>
<td align="center">100%</td>
</tr>
<tr>
<td align="center">validation accuracy</td>
<td align="center">92.93%</td>
</tr>
<tr>
<td align="center">time (sec)</td>
<td align="center">20.7</td>
</tr>
</tbody></table>
<p>可以发现决策树存在很明显的过拟合。</p>
<h3 id="5-4-获取预测结果"><a href="#5-4-获取预测结果" class="headerlink" title="5.4 获取预测结果"></a>5.4 获取预测结果</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ans = clf.predict(test_dataSet)</span><br><span class="line">f = open(&apos;model_3.txt&apos;,&apos;w&apos;)</span><br><span class="line">for i in range(test_len):</span><br><span class="line">	for j in range(7):</span><br><span class="line">		if ans[i][j] != 0:</span><br><span class="line">			f.write(str(j+1) + &apos;\n&apos;)</span><br><span class="line">			break</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure>

<h2 id="5-结果展示与分析"><a href="#5-结果展示与分析" class="headerlink" title="5 结果展示与分析"></a>5 结果展示与分析</h2><table>
<thead>
<tr>
<th align="center">分类器</th>
<th align="center">MLP</th>
<th align="center">KNN</th>
<th align="center">决策树</th>
</tr>
</thead>
<tbody><tr>
<td align="center">train accuracy</td>
<td align="center">78.80%</td>
<td align="center">98.79%</td>
<td align="center">100%</td>
</tr>
<tr>
<td align="center">time (sec)</td>
<td align="center">1039.8</td>
<td align="center">37.6</td>
<td align="center">22.5</td>
</tr>
</tbody></table>
<p>决策树虽然训练集准确率达到了100%，但是它存在着严重的过拟合，并不是最好的，KNN相对于MLP来说，训练集准确度高，花费时间短，所以，相比之下，KNN的结果应该是最好的。</p>
<h2 id="6-代码和数据"><a href="#6-代码和数据" class="headerlink" title="6 代码和数据"></a>6 代码和数据</h2><p>链接：<a href="http://pan.baidu.com/s/1nv0rLyx" target="_blank" rel="noopener">http://pan.baidu.com/s/1nv0rLyx</a> 密码：cy8l</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.dongjinbao.com/机器学习/Python机器学习应用-强化学习.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JinbaoSite">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JinbaoSite">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/机器学习/Python机器学习应用-强化学习.html" itemprop="url">Python机器学习应用 | 强化学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-02T17:56:21+08:00">
                2017-07-02
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-强化学习"><a href="#1-强化学习" class="headerlink" title="1 强化学习"></a>1 强化学习</h2><p>1、强化学习就是程序或智能体（agent）通过与环境不断地进行交互学习一个从环境到动作的映射，学习的目标就是使累计回报最大化。<br>2、强化学习是一种试错学习，因其在各种状态（环境）下需要尽量尝试所有可以选择的动作，通过环境给出的反馈（即奖励）来判断动作的优劣，最终获得环境和最优动作的映射关系（即策略）。</p>
<h2 id="2-马尔可夫决策过程（MDP）"><a href="#2-马尔可夫决策过程（MDP）" class="headerlink" title="2 马尔可夫决策过程（MDP）"></a>2 马尔可夫决策过程（MDP）</h2><p>马尔可夫决策过程（Markov Decision Process）通常用来描述一个强化学习问题，智能体agent根据当前环境的观察采取动作获得环境的反馈，并使环境发生改变的循环过程。<br><img src="http://oltfslql1.bkt.clouddn.com/mdp.jpg" alt></p>
<h2 id="3-MDP基本元素"><a href="#3-MDP基本元素" class="headerlink" title="3 MDP基本元素"></a>3 MDP基本元素</h2><p>1、$s \in S$：有限状态state集合，s表示某个特定状态；<br>2、$a \in A$：有限动作action集合，a表示某个特定动作；<br>3、$T(S,a,S’)~P_r(s’|s,a)$：状态转移模型，根据当前状态s和动作a预测下一个状态s，这里的$P_r$表示从s采取行动a转移到$s’$的概率；<br>4、$R(s,a)$：表示agent采取某个动作后的即时奖励，它还有$R(s,a,s’),R(s)$等表现形式；<br>5、Policy $\pi (s) \rightarrow a$：根据当前state来产生action，可表现为$a= \pi (s)$或$\pi (a|s) = P (a|s)$，后者表示某种状态下执行某个动作的概率。</p>
<h2 id="4-值函数"><a href="#4-值函数" class="headerlink" title="4 值函数"></a>4 值函数</h2><p>状态值函数V表示执行策略$\pi$能得到的累计折扣奖励：</p>
<p>$$V^{\pi}(s) = E[R(s_0,a_0)+\gamma R(s_1,a_1) + \gamma ^2 R(s_2,a_2)+… | s=s_0]$$</p>
<p>即：</p>
<p>$$V^{\pi}(s) = R(s,a) + \gamma \sum_{s’ \in S} p(s’|s,\pi (s)) V^{\pi} (s’)$$</p>
<p>状态动作值函数$Q(s,a)$表示在状态s下执行动作a能得到的累计折扣奖励：</p>
<p>$$Q^{\pi}(s,a)= E[R(s_0,a_0)+\gamma R(s_1,a_1) + \gamma ^2 R(s_2,a_2)+… | s=s_0,a=a_0]$$</p>
<p>即：</p>
<p>$$Q^{\pi}(s,a) = R(s,a) + \gamma \sum_{s’ \in S} p(s’|s,\pi (s)) Q^{\pi} (s’,\pi (s’))$$</p>
<h2 id="5-最优值函数"><a href="#5-最优值函数" class="headerlink" title="5 最优值函数"></a>5 最优值函数</h2><p>$$V^{<em>}(s)=max_{a \in A} R(s,a) + \gamma \sum_{s’ \in S} p(s’ | s,a) V^</em>(s’) \<br>Q^<em>(s,a) = R(s,a) + \gamma ( \sum_{s’ \in S} p(s’|s,a)) max_{b \in A}Q^</em> (s’,a)$$</p>
<h2 id="6-最优控制"><a href="#6-最优控制" class="headerlink" title="6 最优控制"></a>6 最优控制</h2><p>在得到最优值函数之后，可以通过值函数的值得到状态s时应该采取的动作a：</p>
<p>$$\pi (s) = argmax_{a \in A} [R(s,a) + \gamma \sum_{s’ \in S} p(s’|s,a)V^<em>(s’)] \<br>\pi (s) = argmax_{a \in A} Q^</em>(s,a) \<br>V^<em>(s) = max_{a \in A} Q^</em>(s,a)$$</p>
<h2 id="7-蒙特卡洛强化学习"><a href="#7-蒙特卡洛强化学习" class="headerlink" title="7 蒙特卡洛强化学习"></a>7 蒙特卡洛强化学习</h2><p>1、在现实的强化学习任务中，环境的转移概率、奖励函数往往很难得知，甚至很难得知环境中有多少状态。若学习算法不再依赖于环境建模，则称为免模型学习，蒙特卡洛强化学习就是其中的一种。<br>2、蒙特卡洛强化学习使用多次采样，然后求取平均累计奖赏作为期望累计奖赏的近似。<br>3、蒙特卡洛强化学习：直接对状态动作值函数Q(s,a)进行估计，每采样一条轨迹，就根据轨迹中的所有“状态-动作”利用下面的公式对来对值函数进行更新。</p>
<p>$$<br>Q(s,a) = \frac{Q(s,a)*count(s,a)+R}{count(s,a)+1}<br>$$</p>
<p>4、每次采样更新完所有的“状态-动作”对所对应的Q(s,a)，就需要更新采样策略$\pi$。但由于策略可能是确定性的，即一个状态对应一个动作，多次采样可能获得相同的采样轨迹，因此需要借助$\epsilon$贪心策略：</p>
<p>$$\pi (s,a)=<br>\begin{cases}<br>argmax_a Q(s,a) &amp; \text{以概率1-$\epsilon$} \newline<br>随机从A中选取动作&amp; \text{以概率$\epsilon$}<br>\end{cases}$$</p>
<p>5、蒙特卡洛强化学习算法需要采样一个完整的轨迹来更新值函数，效率较低，此外该算法没有充分利用强化学习任务的序贯决策结构。</p>
<h2 id="8-Q-learning算法"><a href="#8-Q-learning算法" class="headerlink" title="8 Q-learning算法"></a>8 Q-learning算法</h2><p>1、Q-learning算法结合了动态规划与蒙特卡洛方法的思想，使得学习更加高效。<br>2、假设对于状态动作对(s,a)基于t次采样估算出其值函数为：</p>
<p>$$<br>Q^{\pi}<em>t(s,a) = \frac{1}{t} \sum</em>{i=1}^{t} r_i<br>$$</p>
<p>在进行t+1次采样后，依据增量更新得到：</p>
<p>$$<br>Q^{\pi}<em>{t+1}(s,a) = Q^{\pi}_t(s,a) + \frac{1}{t+1} (r</em>{t+1} - Q^{\pi}_t(s,a))<br>$$</p>
<p>然后，将$\frac{1}{t+1}$替换成系数$\alpha$（步长），得到：</p>
<p>$$<br>Q^{\pi}<em>{t+1}(s,a) = Q^{\pi}_t(s,a) + \alpha (r</em>{t+1} - Q^{\pi}_t(s,a))<br>$$</p>
<p>3、以$\gamma$折扣累计奖赏为例：</p>
<p>$$<br>r_{t+1} = R_s^a + \gamma Q^{\pi}_t(s’,a’)<br>$$</p>
<p>则值函数的更新方式如下：</p>
<p>$$<br>Q^{\pi}_{t+1}(s,a) = Q^{\pi}_t(s,a) + \alpha (R^a_s + \gamma Q^{\pi}_t(s’,a’) - Q^{\pi}_t(s,a))<br>$$</p>
<h2 id="9-Q-learning算法流程"><a href="#9-Q-learning算法流程" class="headerlink" title="9 Q-learning算法流程"></a>9 Q-learning算法流程</h2><p>输入：环境$E$；动作空间$A$；起始状态$s_0$；奖励折扣$\gamma$；更新步长$\alpha$；<br>过程：<br>1:$Q(s,a)=0,\pi (s,a) = \frac{1}{|A|}$;<br>2:$s=s_0$;<br>3:$for t=1,2,…do$<br>4:&nbsp;&nbsp;&nbsp;&nbsp;$r,s’=$在E中执行动作$\pi ^{\epsilon} (s)$产生的奖赏和转移的状态;<br>5:&nbsp;&nbsp;&nbsp;&nbsp;$a=\pi(s’)$;<br>6:&nbsp;&nbsp;&nbsp;&nbsp;$Q(s,a)=Q(s,a)+\alpha (r+\gamma Q(s’,a’)-Q(s,a))$;<br>7:&nbsp;&nbsp;&nbsp;&nbsp;$\pi(s)=argmax_{a”} Q(s,a”)$;<br>8:&nbsp;&nbsp;&nbsp;&nbsp;$s=s’,a=a’$;<br>9:$end$ $for$<br>输出：策略$\pi$</p>
<h2 id="10-Deep-Q-Network（DQN）"><a href="#10-Deep-Q-Network（DQN）" class="headerlink" title="10 Deep Q Network（DQN）"></a>10 Deep Q Network（DQN）</h2><p>1、Deep Q Network（DQN）：是将神经网络(neural network) 和Qlearning结合，利用神经网络近似模拟函数Q(s,a)，输入是问题的状态（e.g.,图形），输出是每个动作a对应的Q值，然后依据Q值大小选择对应状态执行的动作，以完成控制。<br>2、神经网络的参数：应用监督学习完成</p>
<h2 id="11-DQN学习过程"><a href="#11-DQN学习过程" class="headerlink" title="11 DQN学习过程"></a>11 DQN学习过程</h2><p><img src="http://oltfslql1.bkt.clouddn.com/dqn.jpg" alt><br>1.状态$s$输入，获得所有动作对应的$Q$值$Q(s,a)$；<br>2.选择对应$Q$值最大的动作$a′$并执行；<br>3.执行后环境发生改变，并能够获得环境的奖励$\gamma$；<br>4.利用奖励$\gamma$更新$Q(s,a′)$–强化学习利用新的$Q(s,a′)$更新网络参数—监督学习</p>
<h2 id="12-DQN算法流程"><a href="#12-DQN算法流程" class="headerlink" title="12 DQN算法流程"></a>12 DQN算法流程</h2><p>Algorithm 1 Deep Q-learning with Experience Replay<br>&nbsp;&nbsp;&nbsp;&nbsp;Initialilze replay memory D to capacity N<br>&nbsp;&nbsp;&nbsp;&nbsp;Initialize action-value function Q with random weights<br>&nbsp;&nbsp;&nbsp;&nbsp;for episode = 1,M do<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialise sequence $s_1$={$x_1$} and preporcessed sequeced $\phi_1 = \phi(s_1)$<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for t=1,T do<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;With probability $\epsilon$ select a random action $a_t$<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;otherwise select $a_t = max_a Q^*(\phi(s_t),a;\theta)$<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute action $a_t$ in emulator and observe reward $r_t$ and image $x_{t+1}$<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set $s_{t+1} = s_t,a_t,x_{t+1}$ and preprocess $\phi_{t+1}=\phi(s_t+1)$<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store transition ($\phi_t,a_t,r_t,\phi_{t+1}$) in D<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sample random minibatch of transitions ($\phi_j,a_j,r_j,\phi_{j+1}$) from D<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set $y_j=<br>\begin{cases}<br>r_j&amp; \text{for terminal $\phi_{j+1}$}\<br>r_j + \gamma max_{a’} Q( \phi_{j+1},a’;\theta )&amp; \text{for non-terminal $\phi_{j+1}$}<br>\end{cases}$<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perform a gradient descent step on $(y_i - Q(\phi_j,a_j;\theta))^2$ according to equation 3<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end for<br>&nbsp;&nbsp;&nbsp;&nbsp;end for</p>
<p>部分流程解释：<br>1、Initialilze replay memory D to capacity N：初始化D：用于存放采集($S_t,a_t,r_t,S_{t+1}$)的状态转移过程，用于网络参数的训练<br>2、Initialize action-value function Q with random weights：随机初始化神经网络的参数<br>3、Initialise sequence $s_1$={$x_1$} and preporcessed sequeced $\phi_1 = \phi(s_1)$：获取环境的初始状态（x是采集的图像，使用图像作为agent的状态；预处理过程是说，使用4张图像代表当前状态，这里可以先忽略掉）<br>4、otherwise select $a_t = max_a Q^*(\phi(s_t),a;\theta)$：$epsilon$贪心策略：使用$epsilon$概率随机选取动作或1- $epsilon$的概率根据神经网络的输出选择动作<br>5、Execute action $a_t$ in emulator and observe reward $r_t$ and image $x_{t+1}$：在模拟器中执行选定的动作，获得奖励$\gamma_t$和一个观察$x_{t+1}$<br>6、Store transition ($\phi_t,a_t,r_t,\phi_{t+1}$) in D：设置$S_{t+1}$，并将状态($S_t,a_t,r_t,S_{t+1}$)转移过程存放在D中<br>7、Sample random minibatch of transitions ($\phi_j,a_j,r_j,\phi_{j+1}$) from D：从D中进行随机采样，获得一部分状态转移过程历史信息<br>8、Set $y_j=<br>\begin{cases}<br>r_j&amp; \text{for terminal $\phi_{j+1}$}\<br>r_j + \gamma max_{a’} Q( \phi_{j+1},a’;\theta )&amp; \text{for non-terminal $\phi_{j+1}$}<br>\end{cases}$：使用Q-learning方法更新状态值函数的值（终止与非终止状态的更新不同）<br>9、Perform a gradient descent step on $(y_i - Q(\phi_j,a_j;\theta))^2$ according to equation 3：使用监督学习方法更新网络的参数</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="www.dongjinbao.com/机器学习/Python机器学习应用-基于聚类的“图像分割”.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="JinbaoSite">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="JinbaoSite">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/机器学习/Python机器学习应用-基于聚类的“图像分割”.html" itemprop="url">Python机器学习应用 | 基于聚类的“图像分割”</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-01T16:57:29+08:00">
                2017-07-01
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/机器学习/" itemprop="url" rel="index">
                    <span itemprop="name">机器学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-图像分割"><a href="#1-图像分割" class="headerlink" title="1 图像分割"></a>1 图像分割</h2><p>1、图像分割：利用图像的灰度、颜色、纹理、形状等特征，把图像分成若干个互不重叠的区域，并使这些特征在同一区域内呈现相似性，在不同的区域之间存在明显的差异性。然后就可以将分割的图像中具有独特性质的区域提取出来用于不同的研究。<br>2、图像分割技术已在实际生活中得到广泛的应用。例如：在机车检验领域，可以应用到轮毂裂纹图像的分割，及时发现裂纹，保证行车安全；在生物医学工程方面，对肝脏CT图像进行分割，为临床治疗和病理学研究提供帮助。</p>
<h2 id="2-图像分割常用方法"><a href="#2-图像分割常用方法" class="headerlink" title="2 图像分割常用方法"></a>2 图像分割常用方法</h2><p>1.阈值分割：对图像灰度值进行度量，设置不同类别的阈值，达到分割的目的。<br>2.边缘分割：对图像边缘进行检测，即检测图像中灰度值发生跳变的地方，则为一片区域的边缘。<br>3.直方图法：对图像的颜色建立直方图，而直方图的波峰波谷能够表示一块区域的颜色值的范围，来达到分割的目的。<br>4.特定理论：基于聚类分析、小波变换等理论完成图像分割。</p>
<h2 id="3-实例描述"><a href="#3-实例描述" class="headerlink" title="3 实例描述"></a>3 实例描述</h2><h3 id="3-1-目标"><a href="#3-1-目标" class="headerlink" title="3.1 目标"></a>3.1 目标</h3><p>利用K-means聚类算法对图像像素点颜色进行聚类实现简单的图像分割</p>
<h3 id="3-2-输出"><a href="#3-2-输出" class="headerlink" title="3.2 输出"></a>3.2 输出</h3><p>同一聚类中的点使用相同颜色标记，不同聚类颜色不同</p>
<h3 id="3-3-技术路线"><a href="#3-3-技术路线" class="headerlink" title="3.3 技术路线"></a>3.3 技术路线</h3><p>sklearn.cluster.KMeans</p>
<h3 id="3-4-实例数据"><a href="#3-4-实例数据" class="headerlink" title="3.4 实例数据"></a>3.4 实例数据</h3><p>数据可以是任意大小的图片，为了使效果更佳直观，可以采用区分度比较明显的图片。</p>
<h3 id="3-5-实验过程"><a href="#3-5-实验过程" class="headerlink" title="3.5 实验过程"></a>3.5 实验过程</h3><p>使用算法：Kmeans</p>
<h4 id="3-5-1-建立工程并导入sklearn包"><a href="#3-5-1-建立工程并导入sklearn包" class="headerlink" title="3.5.1 建立工程并导入sklearn包"></a>3.5.1 建立工程并导入sklearn包</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import PIL.Image as image</span><br><span class="line">from sklearn.cluster import KMeans</span><br></pre></td></tr></table></figure>

<h4 id="3-5-2-加载图片并进行预处理"><a href="#3-5-2-加载图片并进行预处理" class="headerlink" title="3.5.2 加载图片并进行预处理"></a>3.5.2 加载图片并进行预处理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def loadData(filePath):</span><br><span class="line">    f = open(filePath,&apos;rb&apos;)</span><br><span class="line">    data = []</span><br><span class="line">    img = image.open(f)</span><br><span class="line">    m,n = img.size</span><br><span class="line">    for i in range(m):</span><br><span class="line">        for j in range(n):</span><br><span class="line">            x,y,z = img.getpixel((i,j))</span><br><span class="line">            data.append([x/256.0,y/256.0,z/256.0])</span><br><span class="line">    f.close()</span><br><span class="line">    return np.mat(data),m,n</span><br><span class="line"> </span><br><span class="line">imgData,row,col = loadData(&apos;bull.jpg&apos;)</span><br></pre></td></tr></table></figure>

<h4 id="3-5-3-加载Kmeans聚类算法"><a href="#3-5-3-加载Kmeans聚类算法" class="headerlink" title="3.5.3 加载Kmeans聚类算法"></a>3.5.3 加载Kmeans聚类算法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">label = KMeans(n_clusters=4).fit_predict(imgData)</span><br></pre></td></tr></table></figure>

<h4 id="3-5-4-对像素点进行聚类并输出"><a href="#3-5-4-对像素点进行聚类并输出" class="headerlink" title="3.5.4 对像素点进行聚类并输出"></a>3.5.4 对像素点进行聚类并输出</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">label = label.reshape([row,col])</span><br><span class="line">pic_new = image.new(&quot;L&quot;, (row, col))</span><br><span class="line">for i in range(row):</span><br><span class="line">    for j in range(col):</span><br><span class="line">        pic_new.putpixel((i,j), int(256/(label[i][j]+1)))</span><br><span class="line">pic_new.save(&quot;result-bull-4.jpg&quot;, &quot;JPEG&quot;)</span><br></pre></td></tr></table></figure>

<h3 id="3-6-结果展示"><a href="#3-6-结果展示" class="headerlink" title="3.6 结果展示"></a>3.6 结果展示</h3><p>原图<br><img src="http://7xpp0b.com1.z0.glb.clouddn.com/1.jpg" alt><br>K=4<br><img src="http://7xpp0b.com1.z0.glb.clouddn.com/2.jpg" alt></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">JinbaoSite</p>
              <p class="site-description motion-element" itemprop="description">趣头条广告算法工程师</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">58</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">JinbaoSite</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
